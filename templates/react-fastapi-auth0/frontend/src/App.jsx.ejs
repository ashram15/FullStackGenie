import { useState, useEffect } from 'react'
import axios from 'axios'
import './App.css'

function App() {
const [message, setMessage] = useState('')
const [loading, setLoading] = useState(true)

useEffect(() => {
// Fetch from backend API
axios.get('/api/hello')
.then(response => {
setMessage(response.data.message)
setLoading(false)
})
.catch(error => {
console.error('Error fetching from backend:', error)
setMessage('Error connecting to backend')
setLoading(false)
})
}, [])

return (
<div className="App">
    <header className="App-header">
        <h1>ðŸ§ž Welcome to <%= projectName %>
        </h1>
        <p className="subtitle">Generated by Full Stack Genie</p>

        <div className="status-card">
            {loading ? (
            <p>Connecting to backend...</p>
            ) : (
            <div>
                <p className="backend-message">{message}</p>
                <span className="status-badge">âœ… Backend Connected</span>
            </div>
            )}
        </div>

        <div className="quick-links">
            <h3>Quick Start:</h3>
            <ol>
                <li>Backend is running on port <%= backendPort %>
                </li>
                <li>Frontend is running on port <%= frontendPort %>
                </li>
                <li>Edit <code>src/App.jsx</code> to start coding</li>
                <li>Check <code>README.md</code> for more details</li>
            </ol>
        </div>
    </header>
</div>
)
}

export default App